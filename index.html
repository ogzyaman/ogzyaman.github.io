<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YenilenmiÅŸ Mutfak AsistanÄ±</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Lora:wght@500;600&display=swap" rel="stylesheet">
    <link rel="manifest" href="manifest.json">
    <!-- Chosen Palette: "Zinc & Teal" -->
    <!-- Application Structure Plan: The "Tarifler" (Recipes) section is further refined. Make-ahead recipes are now split into two distinct parts: a "Pazar HazÄ±rlÄ±ÄŸÄ±" (Sunday Prep) card for base preparation and a "Hafta Ä°Ã§i Servis" (Weekday Service) card for final assembly, providing an even more practical, task-focused workflow. This structure perfectly mirrors the user's cooking process, separating large-batch prep from quick, daily assembly. -->
    <!-- Visualization & Content Choices: The primary change is in the data architecture for recipes. Recipes like "Piyaz" are now two separate data objects, one in the `pazar` array and one in the `haftaici` array, each with specific ingredients and steps for that phase. The rendering logic naturally creates two distinct visual blocks for these categories, enhancing usability. This structural data change, reflected in the HTML output, completes the application's core functionality by providing maximum clarity to the end-user. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f4f4f5; /* zinc-100 */ color: #3f3f46; /* zinc-700 */ }
        h1, h2, h3 { font-family: 'Lora', serif; }
        .main-tab-content, .sub-tab-content { display: none; }
        .main-tab-content.active, .sub-tab-content.active { display: block; animation: fadeIn 0.5s; }
        .main-nav-button.active { background-color: #0d9488; /* teal-600 */ color: white; }
        .sub-nav-button.active { background-color: #14b8a6; /* teal-500 */ color: white; box-shadow: 0 4px 14px 0 rgba(20, 184, 166, 0.3); }
        .list-item-checkbox:checked + label { border-left: 4px solid #14b8a6; background-color: #f8fafc; }
        .list-item-checkbox:checked + label .item-text, .list-item-checkbox:checked + label .item-quantity { text-decoration: line-through; color: #a1a1aa; }
        #loader { border: 4px solid #e4e4e7; border-top: 4px solid #14b8a6; border-radius: 50%; width: 24px; height: 24px; animation: spin 1s linear infinite; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body class="antialiased">

    <div class="container mx-auto max-w-6xl p-4 sm:p-6 lg:p-8">

        <header class="text-center mb-10">
            <h1 class="text-4xl sm:text-5xl font-bold text-zinc-800 tracking-tight">Mutfak AsistanÄ±</h1>
            <p class="mt-3 text-lg text-zinc-600">AlÄ±ÅŸveriÅŸ, menÃ¼ ve tarifleriniz tek bir yerde.</p>
        </header>

        <nav id="main-nav" class="grid grid-cols-3 gap-1 mb-10 bg-zinc-200 p-1 rounded-xl shadow-inner">
            <button data-tab="alisveris" class="main-nav-button active font-semibold py-3 px-2 sm:px-4 rounded-lg transition-all duration-300 flex items-center justify-center gap-2">ğŸ›’<span class="hidden sm:inline">AlÄ±ÅŸveriÅŸ Listesi</span></button>
            <button data-tab="menu" class="main-nav-button font-semibold py-3 px-2 sm:px-4 rounded-lg transition-all duration-300 flex items-center justify-center gap-2">ğŸ—“ï¸<span class="hidden sm:inline">Yemek MenÃ¼sÃ¼</span></button>
            <button data-tab="tarifler" class="main-nav-button font-semibold py-3 px-2 sm:px-4 rounded-lg transition-all duration-300 flex items-center justify-center gap-2">ğŸ“–<span class="hidden sm:inline">Tarifler</span></button>
        </nav>

        <main>
            <!-- AlÄ±ÅŸveriÅŸ Listesi Ana BÃ¶lÃ¼mÃ¼ -->
            <div id="alisveris" class="main-tab-content active">
                <div class="flex flex-col sm:flex-row justify-center items-center gap-3 mb-6">
                    <button id="fetchPricesBtn" class="w-full sm:w-auto flex items-center justify-center gap-2 bg-teal-500 text-white font-semibold py-2 px-5 rounded-lg shadow-md hover:bg-teal-600 transition-all"><span>ğŸ’°</span><span>FiyatlarÄ± Getir</span></button>
                    <button id="resetBtn" class="w-full sm:w-auto bg-zinc-300 text-zinc-800 font-semibold py-2 px-5 rounded-lg hover:bg-zinc-400 transition-all">Listeyi SÄ±fÄ±rla</button>
                    <div id="loader" class="hidden"></div>
                </div>
                 <nav id="alisveris-sub-nav" class="flex flex-wrap justify-center gap-2 sm:gap-3 mb-8"></nav>
                 <div id="alisveris-content"></div>
            </div>

            <!-- Yemek MenÃ¼sÃ¼ Ana BÃ¶lÃ¼mÃ¼ -->
            <div id="menu" class="main-tab-content">
                <nav id="menu-sub-nav" class="flex flex-wrap justify-center gap-2 sm:gap-3 mb-8"></nav>
                <div id="menu-content"></div>
            </div>

            <!-- Tarifler Ana BÃ¶lÃ¼mÃ¼ -->
            <div id="tarifler" class="main-tab-content">
                <nav id="tarifler-sub-nav" class="flex flex-wrap justify-center gap-2 sm:gap-3 mb-8"></nav>
                <div id="tarifler-content"></div>
            </div>
        </main>
        
        <footer class="text-center mt-12 text-zinc-500 text-sm">
            <p>Bu uygulama sizin iÃ§in Ã¶zenle hazÄ±rlandÄ±.</p>
        </footer>
    </div>

    <script>
        const appData = {
            aylik: {
                alisveris: { title: 'Uzun Ã–mÃ¼rlÃ¼ ÃœrÃ¼nler', items: [ { id: 'aylik1', name: 'Kuru Fasulye', quantity: '1 kg' }, { id: 'aylik2', name: 'Nohut', quantity: '1 kg' }, { id: 'aylik3', name: 'YeÅŸil Mercimek', quantity: '1 kg' }, { id: 'aylik4', name: 'KÄ±rmÄ±zÄ± Mercimek', quantity: '1 kg' }, { id: 'aylik5', name: 'Barbunya', quantity: '1 kg' }, { id: 'aylik6', name: 'PirinÃ§', quantity: '2 kg' }, { id: 'aylik7', name: 'Bulgur (PilavlÄ±k)', quantity: '2 kg' }, { id: 'aylik8', name: 'EriÅŸte', quantity: '1-2 paket' }, { id: 'aylik9', name: 'Kuru SoÄŸan', quantity: '2-3 kg' }, { id: 'aylik10', name: 'SarÄ±msak', quantity: '4-5 baÅŸ' }, { id: 'aylik11', name: 'TurÅŸu', quantity: '1 bÃ¼yÃ¼k kavanoz' }, { id: 'aylik12', name: 'ZeytinyaÄŸÄ±', quantity: 'Salatalar iÃ§in' }, { id: 'aylik13', name: 'AyÃ§iÃ§ek YaÄŸÄ±', quantity: 'Yemekler iÃ§in' }, { id: 'aylik14', name: 'Sirke', quantity: 'ÃœzÃ¼m veya elma' }, { id: 'aylik15', name: 'Nar EkÅŸisi', quantity: '' }, { id: 'aylik16', name: 'Temel Baharatlar', quantity: 'Evde yoksa' } ] }
            },
            hafta1: {
                alisveris: { title: '1. Hafta Taze ÃœrÃ¼nler', categories: { 'Sebze / YeÅŸillik': [ { id: 'h1_1', name: 'Domates', quantity: '1.5 - 2 kg' }, { id: 'h1_2', name: 'SalatalÄ±k', quantity: '1 kg' }, { id: 'h1_3', name: 'Sivri Biber', quantity: '500 gr' }, { id: 'h1_4', name: 'PatlÄ±can', quantity: '1 kg' }, { id: 'h1_5', name: 'Semizotu', quantity: '1 demet' }, { id: 'h1_6', name: 'Marul', quantity: '1 adet' }, { id: 'h1_7', name: 'Maydanoz', quantity: '1 demet' }, { id: 'h1_8', name: 'Taze Nane', quantity: '1 demet' }, { id: 'h1_9', name: 'Limon', quantity: '4-5 adet' } ], 'Et / SÃ¼t ÃœrÃ¼nleri': [ { id: 'h1_10', name: 'Tavuk GÃ¶ÄŸsÃ¼ veya But', quantity: '~1 kg' }, { id: 'h1_11', name: 'KÄ±yma', quantity: '250-300 gr' }, { id: 'h1_12', name: 'YoÄŸurt', quantity: '1 bÃ¼yÃ¼k kova' } ], 'FÄ±rÄ±n': [ { id: 'h1_13', name: 'Tam BuÄŸday EkmeÄŸi', quantity: '1 adet' } ] } },
                menu: [ { day: 'Pazartesi (Spor)', meal: 'Tavuk Sote + Bulgur PilavÄ± + Naneli CacÄ±k', calories: '850 kcal' }, { day: 'SalÄ±', meal: 'YeÅŸil Mercimek YemeÄŸi + EriÅŸte + Semizotu SalatasÄ±', calories: '700 kcal' }, { day: 'Ã‡arÅŸamba (Spor)', meal: 'Tavuk Sote + Bulgur PilavÄ± + Ã‡oban Salata', calories: '800 kcal' }, { day: 'PerÅŸembe', meal: 'YeÅŸil Mercimek YemeÄŸi + Tam BuÄŸday EkmeÄŸi + YoÄŸurt', calories: '650 kcal' }, { day: 'Cuma', meal: 'PatlÄ±can Musakka + PirinÃ§ PilavÄ±', calories: '900 kcal' } ],
                tarifler: {
                    pazar: [ { title: 'Tavuk Sote', ingredients: ['1 kg tavuk kuÅŸbaÅŸÄ±', '4 adet domates', '4 adet sivri biber', '1 adet soÄŸan', '2 diÅŸ sarÄ±msak', 'SÄ±vÄ± yaÄŸ, kekik, pul biber, tuz'], steps: ['SoÄŸan ve sarÄ±msaÄŸÄ± soteleyin.', 'Biberleri ekleyip kavurun.', 'TavuklarÄ± ekleyip suyunu salÄ±p Ã§ekene kadar piÅŸirin.', 'RendelenmiÅŸ domatesleri ve baharatlarÄ± ekleyip kÄ±sÄ±k ateÅŸte piÅŸirin.'] }, { title: 'YeÅŸil Mercimek YemeÄŸi', ingredients: ['2 su bardaÄŸÄ± yeÅŸil mercimek', '1 adet soÄŸan', '1 adet havuÃ§', '1 yemek kaÅŸÄ±ÄŸÄ± salÃ§a', 'SÄ±vÄ± yaÄŸ, tuz, karabiber'], steps: ['SoÄŸan ve havucu soteleyin.', 'SalÃ§ayÄ± ekleyip kavurun.', 'YÄ±kanmÄ±ÅŸ mercimekleri ve Ã¼zerini geÃ§ecek kadar sÄ±cak su ekleyin.', 'Tuz ve karabiberi ekleyip mercimekler yumuÅŸayana kadar piÅŸirin.'] }, { title: 'PatlÄ±can Musakka', ingredients: ['1 kg patlÄ±can', '300 gr kÄ±yma', '1 adet soÄŸan', '2 adet domates', '1 yemek kaÅŸÄ±ÄŸÄ± salÃ§a', 'SÄ±vÄ± yaÄŸ, tuz, karabiber'], steps: ['PatlÄ±canlarÄ± alacalÄ± soyup kÄ±zartÄ±n ve tepsiye dizin.', 'AyrÄ± bir tavada soÄŸan ve kÄ±ymayÄ± kavurun.', 'SalÃ§a, rendelenmiÅŸ domates ve baharatlarÄ± ekleyip sos hazÄ±rlayÄ±n.', 'Sosu patlÄ±canlarÄ±n Ã¼zerine dÃ¶kÃ¼n ve 180Â°C fÄ±rÄ±nda 20 dakika piÅŸirin.'] } ],
                    haftaici: [ { title: 'Naneli CacÄ±k', ingredients: ['2 su bardaÄŸÄ± yoÄŸurt', '2 adet salatalÄ±k', '1 diÅŸ sarÄ±msak', 'Kuru nane, zeytinyaÄŸÄ±, tuz'], steps: ['SalatalÄ±klarÄ± rendeleyin veya Ã§ok kÃ¼Ã§Ã¼k doÄŸrayÄ±n.', 'YoÄŸurt, ezilmiÅŸ sarÄ±msak ve tuz ile karÄ±ÅŸtÄ±rÄ±n.', 'SoÄŸuk su ile kÄ±vamÄ±nÄ± ayarlayÄ±n.', 'Ãœzerine nane ve zeytinyaÄŸÄ± gezdirerek servis yapÄ±n.'] }, { title: 'Ã‡oban Salata', ingredients: ['2 adet domates', '2 adet salatalÄ±k', '1 adet biber', '1 adet kÃ¼Ã§Ã¼k soÄŸan', 'Maydanoz', 'Sosu: Limon suyu, zeytinyaÄŸÄ±, tuz'], steps: ['TÃ¼m malzemeleri kÃ¼Ã§Ã¼k kÃ¼pler halinde doÄŸrayÄ±n.', 'KÄ±yÄ±lmÄ±ÅŸ maydanozu ekleyin.', 'Sosuyla karÄ±ÅŸtÄ±rÄ±p servis yapÄ±n.'] } ]
                }
            },
            hafta2: {
                alisveris: { title: '2. Hafta Taze ÃœrÃ¼nler', categories: { 'Et / SÃ¼t ÃœrÃ¼nleri': [ { id: 'h2_1', name: 'Tavuk But', quantity: '1 - 1.2 kg' }, { id: 'h2_2', name: 'KÄ±yma', quantity: '300-400 gr' }, { id: 'h2_3', name: 'YoÄŸurt', quantity: '1 bÃ¼yÃ¼k kova' } ], 'Sebze / YeÅŸillik': [ { id: 'h2_4', name: 'Patates', quantity: '1 kg' }, { id: 'h2_5', name: 'Domates', quantity: '5-6 adet' }, { id: 'h2_6', name: 'Ã‡eri Domates', quantity: '1 paket' }, { id: 'h2_7', name: 'SalatalÄ±k', quantity: '4-5 adet' }, { id: 'h2_8', name: 'Sivri/Ã‡arliston Biber', quantity: '5-6 adet' }, { id: 'h2_9', name: 'Marul', quantity: '1 adet' }, { id: 'h2_10', name: 'Taze SoÄŸan', quantity: '1 demet' }, { id: 'h2_11', name: 'Maydanoz', quantity: '1 demet' }, { id: 'h2_12', name: 'Taze Nane', quantity: '1 demet' }, { id: 'h2_13', name: 'Taze Kekik/Biberiye', quantity: 'Ä°steÄŸe baÄŸlÄ±' }, { id: 'h2_14', name: 'Limon', quantity: '2-3 adet' } ] } },
                menu: [ { day: 'Pazartesi (Spor)', meal: 'FÄ±rÄ±nda Tavuk But + Bulgur PilavÄ± + Naneli CacÄ±k', calories: '950 kcal' }, { day: 'SalÄ±', meal: 'Nohut YemeÄŸi + PirinÃ§ PilavÄ± + TurÅŸu', calories: '800 kcal' }, { day: 'Ã‡arÅŸamba (Spor)', meal: 'FÄ±rÄ±nda Tavuk But + Bulgur PilavÄ± + YoÄŸurt', calories: '900 kcal' }, { day: 'PerÅŸembe', meal: 'Mercimek KÃ¶ftesi + Bol YeÅŸillik + Ayran', calories: '600 kcal' }, { day: 'Cuma', meal: 'Ä°zmir KÃ¶fte + Sade Makarna + Domates SalatasÄ±', calories: '850 kcal' } ],
                tarifler: {
                    pazar: [ { title: 'FÄ±rÄ±nda Tavuk But', ingredients: ['1 kg tavuk but', '1 kg patates', '2 adet biber', '1 paket Ã§eri domates', 'Biberiye, kekik, zeytinyaÄŸÄ±, tuz'], steps: ['TÃ¼m malzemeleri baharatlar ve yaÄŸ ile harmanlayÄ±n.', 'FÄ±rÄ±n tepsisine yayÄ±n.', '200Â°C fÄ±rÄ±nda tavuklar ve patatesler kÄ±zarana kadar piÅŸirin.'] }, { title: 'Nohut YemeÄŸi', ingredients: ['3 su bardaÄŸÄ± haÅŸlanmÄ±ÅŸ nohut', '1 adet kuru soÄŸan', '1 yemek kaÅŸÄ±ÄŸÄ± domates salÃ§asÄ±', 'SÄ±vÄ± yaÄŸ, tuz, pul biber'], steps: ['SoÄŸanÄ± yemeklik doÄŸrayÄ±p sÄ±vÄ± yaÄŸda pembeleÅŸinceye kadar kavurun.', 'SalÃ§ayÄ± ekleyip 1-2 dakika daha kavurun.', 'HaÅŸlanmÄ±ÅŸ nohutlarÄ±, tuzu, pul biberi ve Ã¼zerini geÃ§ecek kadar sÄ±cak suyu ekleyin.', 'KÄ±sÄ±k ateÅŸte 15-20 dakika kadar piÅŸirin.'] }, { title: 'Ä°zmir KÃ¶fte', ingredients: ['400 gr kÄ±yma', '1 adet soÄŸan', '1 yumurta', 'Bayat ekmek iÃ§i', 'Maydanoz', 'Kimyon, tuz, karabiber', 'Sosu iÃ§in: SalÃ§a, domates, sÄ±vÄ± yaÄŸ'], steps: ['KÃ¶fte malzemelerini yoÄŸurun ve ÅŸekil verin.', 'Patatesleri elma dilimi doÄŸrayÄ±n. KÃ¶fte ve patatesleri hafifÃ§e kÄ±zartÄ±n.', 'Tepsiye dizin, Ã¼zerine salÃ§alÄ± sosu gezdirip 180Â°C fÄ±rÄ±nda piÅŸirin.'] }, { title: 'Mercimek KÃ¶ftesi', ingredients: ['1 su bardaÄŸÄ± kÄ±rmÄ±zÄ± mercimek', '1.5 su bardaÄŸÄ± ince bulgur', '1 adet soÄŸan', 'SalÃ§a', 'Nar ekÅŸisi, maydanoz, taze soÄŸan, limon'], steps: ['MercimeÄŸi haÅŸlayÄ±p suyunu Ã§ekince bulguru ekleyin ve demlenmeye bÄ±rakÄ±n.', 'AyrÄ± bir yerde soÄŸanÄ± soteleyip salÃ§a ekleyin.', 'TÃ¼m malzemeleri birleÅŸtirip yoÄŸurun ve ÅŸekil verin.'] } ],
                    haftaici: [ { title: 'Domates SalatasÄ±', ingredients: ['3 adet domates', '1 adet kÃ¼Ã§Ã¼k kÄ±rmÄ±zÄ± soÄŸan', 'Maydanoz', 'Sosu: ZeytinyaÄŸÄ±, nar ekÅŸisi, tuz'], steps: ['Domatesleri kÃ¼p kÃ¼p, soÄŸanÄ± piyazlÄ±k doÄŸrayÄ±n.', 'Maydanozu ince kÄ±yÄ±n ve tÃ¼m malzemeleri karÄ±ÅŸtÄ±rÄ±n.', 'Sosuyla servis yapÄ±n.'] } ]
                }
            },
            hafta3: {
                alisveris: { title: '3. Hafta Taze ÃœrÃ¼nler', categories: { 'Et / SÃ¼t ÃœrÃ¼nleri': [ { id: 'h3_1', name: 'Tavuk GÃ¶ÄŸsÃ¼/But (kuÅŸbaÅŸÄ±)', quantity: '700-800 gr' }, { id: 'h3_2', name: 'KÄ±yma', quantity: '300 gr' }, { id: 'h3_3', name: 'YoÄŸurt', quantity: '1 bÃ¼yÃ¼k kova' } ], 'Sebze / YeÅŸillik': [ { id: 'h3_4', name: 'Patates', quantity: '1.5 kg' }, { id: 'h3_5', name: 'PatlÄ±can', quantity: '1.5 kg' }, { id: 'h3_6', name: 'Domates', quantity: '1 kg' }, { id: 'h3_7', name: 'Ã‡arliston/Sivri Biber', quantity: '5-6 adet' }, { id: 'h3_8', name: 'SalatalÄ±k', quantity: '4-5 adet' }, { id: 'h3_9', name: 'Marul/Roka', quantity: '1 adet' }, { id: 'h3_10', name: 'KÄ±rmÄ±zÄ± SoÄŸan', quantity: '1-2 adet' }, { id: 'h3_11', name: 'Maydanoz ve Dereotu', quantity: "1'er demet" }, { id: 'h3_12', name: 'Limon', quantity: '2-3 adet' }, { id: 'h3_13', name: 'Enginar veya Taze BÃ¶rÃ¼lce', quantity: '4-5 adet veya 500 gr' } ] } },
                menu: [ { day: 'Pazartesi (Spor)', meal: 'Tavuklu Patates Oturtma + Bulgur PilavÄ± + YoÄŸurt', calories: '850 kcal' }, { day: 'SalÄ±', meal: 'KÄ±ymalÄ± PatlÄ±can YemeÄŸi + PirinÃ§ PilavÄ± + CacÄ±k', calories: '900 kcal' }, { day: 'Ã‡arÅŸamba (Spor)', meal: 'Tavuklu Patates Oturtma + Piyaz', calories: '750 kcal' }, { day: 'PerÅŸembe', meal: 'KÄ±ymalÄ± PatlÄ±can YemeÄŸi + PirinÃ§ PilavÄ± + Mevsim Salata', calories: '850 kcal' }, { day: 'Cuma', meal: 'ZeytinyaÄŸlÄ± Taze BÃ¶rÃ¼lce + Ekmek', calories: '550 kcal' } ],
                tarifler: {
                    pazar: [ { title: 'Tavuklu Patates Oturtma', ingredients: ['800 gr tavuk kuÅŸbaÅŸÄ±', '1.5 kg patates', '2 adet domates', '2 adet biber', 'SalÃ§a, sÄ±vÄ± yaÄŸ, tuz'], steps: ['Patatesleri halka halka doÄŸrayÄ±p tepsiye dizin.', 'Ãœzerine tavuklarÄ±, doÄŸranmÄ±ÅŸ domates ve biberi yayÄ±n.', 'SalÃ§alÄ± sÄ±cak suyu Ã¼zerine gezdirip 180Â°C fÄ±rÄ±nda piÅŸirin.'] }, { title: 'KÄ±ymalÄ± PatlÄ±can YemeÄŸi', ingredients: ['1.5 kg patlÄ±can', '300 gr kÄ±yma', '1 adet soÄŸan', 'Domates, biber, salÃ§a', 'SÄ±vÄ± yaÄŸ, tuz'], steps: ['PatlÄ±canlarÄ± kÃ¼p kÃ¼p doÄŸrayÄ±p tuzlu suda bekletin.', 'SoÄŸan ve kÄ±ymayÄ± kavurun, salÃ§a ve doÄŸranmÄ±ÅŸ sebzeleri ekleyin.', 'PatlÄ±canlarÄ± ekleyip Ã¼zerini geÃ§meyecek kadar su koyun ve piÅŸirin.'] }, { title: 'ZeytinyaÄŸlÄ± Taze BÃ¶rÃ¼lce', ingredients: ['500 gr taze bÃ¶rÃ¼lce', '1 adet soÄŸan', '2 adet domates', '1 diÅŸ sarÄ±msak', 'YarÄ±m Ã§ay bardaÄŸÄ± zeytinyaÄŸÄ±', '1 kÃ¼p ÅŸeker, tuz'], steps: ['SoÄŸanÄ± yemeklik doÄŸrayÄ±p zeytinyaÄŸÄ±nda soteleyin.', 'AyÄ±klanmÄ±ÅŸ bÃ¶rÃ¼lceleri ekleyip birkaÃ§ dakika daha kavurun.', 'RendelenmiÅŸ domates, ezilmiÅŸ sarÄ±msak, ÅŸeker ve tuzu ekleyin.', 'KÄ±sÄ±k ateÅŸte, kapaÄŸÄ± kapalÄ± olarak bÃ¶rÃ¼lceler yumuÅŸayana kadar piÅŸirin. SoÄŸuk servis yapÄ±n.'] }, { title: 'Piyaz (Ã–n HazÄ±rlÄ±k)', ingredients: ['2 su bardaÄŸÄ± kuru fasulye'], steps: ['Fasulyeyi bir gece Ã¶nceden Ä±slatÄ±n.', 'Ertesi gÃ¼n suyunu sÃ¼zÃ¼p yumuÅŸayana kadar haÅŸlayÄ±n.', 'HaÅŸlanan fasulyeleri sÃ¼zÃ¼p soÄŸutun ve kapalÄ± bir kapta buzdolabÄ±na kaldÄ±rÄ±n.'] } ],
                    haftaici: [ { title: 'Piyaz (Servis)', ingredients: ['Pazardan hazÄ±rlanan haÅŸlanmÄ±ÅŸ fasulye', '1 adet kÄ±rmÄ±zÄ± soÄŸan', '1 adet domates', 'YarÄ±m demet maydanoz', 'Sosu: ZeytinyaÄŸÄ±, limon suyu, sirke, tuz, sumak'], steps: ['SoÄŸanÄ± piyazlÄ±k doÄŸrayÄ±n, domatesi kÃ¼p kÃ¼p kesin, maydanozu kÄ±yÄ±n.', 'TÃ¼m malzemeleri Pazar\'dan hazÄ±rladÄ±ÄŸÄ±nÄ±z fasulye ile bir kapta karÄ±ÅŸtÄ±rÄ±n.', 'Sosu iÃ§in malzemeleri ayrÄ± bir kapta Ã§Ä±rpÄ±n.', 'Servis yapmadan hemen Ã¶nce sosu Ã¼zerine gezdirip harmanlayÄ±n.'] } ]
                }
            },
            hafta4: {
                alisveris: { title: '4. Hafta Taze ÃœrÃ¼nler', categories: { 'Et / SÃ¼t ÃœrÃ¼nleri': [ { id: 'h4_1', name: 'Tavuk GÃ¶ÄŸsÃ¼/KuÅŸbaÅŸÄ± But', quantity: '1.2 kg' }, { id: 'h4_2', name: 'YoÄŸurt', quantity: '1 bÃ¼yÃ¼k kova' } ], 'Sebze / YeÅŸillik': [ { id: 'h4_3', name: 'PatlÄ±can', quantity: '2-3 adet' }, { id: 'h4_4', name: 'Patates', quantity: '2-3 adet' }, { id: 'h4_5', name: 'HavuÃ§', quantity: '2-3 adet' }, { id: 'h4_6', name: 'Domates', quantity: '1 kg' }, { id: 'h4_7', name: 'KÄ±rmÄ±zÄ± Kapya Biber', quantity: '2 adet' }, { id: 'h4_8', name: 'Ã‡arliston/Sivri Biber', quantity: '4-5 adet' }, { id: 'h4_9', name: 'SalatalÄ±k', quantity: '5-6 adet' }, { id: 'h4_10', name: 'Ceviz Ä°Ã§i', quantity: 'KÃ¼Ã§Ã¼k bir paket' }, { id: 'h4_11', name: 'Maydanoz', quantity: '1 demet' }, { id: 'h4_12', name: 'Taze Nane', quantity: '1 demet' }, { id: 'h4_13', name: 'Limon', quantity: '2-3 adet' } ], 'FÄ±rÄ±n': [ { id: 'h4_14', name: 'Tam BuÄŸday EkmeÄŸi', quantity: '1 adet' } ] } },
                menu: [ { day: 'Pazartesi (Spor)', meal: 'Tavuklu TÃ¼rlÃ¼ + Bulgur PilavÄ± + YoÄŸurt', calories: '800 kcal' }, { day: 'SalÄ±', meal: 'Barbunya Pilaki + Tam BuÄŸday EkmeÄŸi + GavurdaÄŸÄ± Salata', calories: '700 kcal' }, { day: 'Ã‡arÅŸamba (Spor)', meal: 'Tavuklu TÃ¼rlÃ¼ + PirinÃ§ PilavÄ±', calories: '850 kcal' }, { day: 'PerÅŸembe', meal: 'Barbunya Pilaki + EriÅŸte + CacÄ±k', calories: '750 kcal' }, { day: 'Cuma', meal: 'Tavuklu Bolonez Sos + Spagetti Makarna', calories: '900 kcal' } ],
                tarifler: {
                    pazar: [ { title: 'Tavuklu TÃ¼rlÃ¼', ingredients: ['600 gr tavuk kuÅŸbaÅŸÄ±', 'Patates, patlÄ±can, havuÃ§, biber, domates', 'SalÃ§a, sÄ±vÄ± yaÄŸ, tuz'], steps: ['TÃ¼m sebzeleri doÄŸrayÄ±n.', 'Tencerede Ã¶nce tavuklarÄ± soteleyin, ardÄ±ndan sÄ±rasÄ±yla sebzeleri ekleyip kavurun.', 'SalÃ§a ve sÄ±cak su ekleyip sebzeler yumuÅŸayana kadar piÅŸirin.'] }, { title: 'Barbunya Pilaki', ingredients: ['500 gr haÅŸlanmÄ±ÅŸ barbunya', '1 adet havuÃ§', '1 adet patates', '1 adet soÄŸan', '2 diÅŸ sarÄ±msak', 'YarÄ±m Ã§ay bardaÄŸÄ± zeytinyaÄŸÄ±', '1 yemek kaÅŸÄ±ÄŸÄ± salÃ§a, tuz'], steps: ['SoÄŸanÄ± soteleyin. KÃ¼p doÄŸranmÄ±ÅŸ havuÃ§ ve patatesi ekleyip kavurun.', 'SalÃ§ayÄ± ekleyin. HaÅŸlanmÄ±ÅŸ barbunyalarÄ±, sarÄ±msaÄŸÄ± ve Ã¼zerini geÃ§ecek kadar sÄ±cak su ekleyin.', 'KÄ±sÄ±k ateÅŸte sebzeler yumuÅŸayana kadar piÅŸirin. IlÄ±k veya soÄŸuk servis yapÄ±n.'] }, { title: 'Tavuklu Bolonez Sos', ingredients: ['600 gr tavuk kÄ±yma (veya Ã§ok kÃ¼Ã§Ã¼k doÄŸranmÄ±ÅŸ gÃ¶ÄŸÃ¼s)', '1 adet soÄŸan', '2 adet havuÃ§', '1 adet kapya biber', 'Domates, salÃ§a, kekik, tuz'], steps: ['SoÄŸan, havuÃ§ ve biberi kÃ¼Ã§Ã¼k kÃ¼Ã§Ã¼k doÄŸrayÄ±p soteleyin.', 'Tavuk kÄ±ymayÄ± ekleyip kavurun.', 'RendelenmiÅŸ domates, salÃ§a ve baharatlarÄ± ekleyip kÄ±sÄ±k ateÅŸte 30-40 dakika piÅŸirin.'] }, { title: 'GavurdaÄŸÄ± (Ã–n HazÄ±rlÄ±k)', ingredients: ['2 adet domates', '1 adet salatalÄ±k', '1 adet yeÅŸil biber', '1 adet kÃ¼Ã§Ã¼k kÄ±rmÄ±zÄ± soÄŸan', 'YarÄ±m demet maydanoz'], steps: ['TÃ¼m sebzeleri Ã§ok kÃ¼Ã§Ã¼k kÃ¼pler halinde doÄŸrayÄ±n.', 'Maydanozu ince ince kÄ±yÄ±n.', 'TÃ¼m doÄŸranmÄ±ÅŸ malzemeyi sossuz bir ÅŸekilde karÄ±ÅŸtÄ±rÄ±p kapalÄ± bir kapta buzdolabÄ±na kaldÄ±rÄ±n.'] } ],
                    haftaici: [ { title: 'GavurdaÄŸÄ± (Servis)', ingredients: ['Pazardan hazÄ±rlanan salata bazÄ±', 'YarÄ±m su bardaÄŸÄ± ceviz iÃ§i', 'Sosu: Nar ekÅŸisi, zeytinyaÄŸÄ±, sumak, tuz'], steps: ['Pazar\'dan hazÄ±rladÄ±ÄŸÄ±nÄ±z salata bazÄ±nÄ± bir kaseye alÄ±n.', 'Ä°ri kÄ±rÄ±lmÄ±ÅŸ cevizi ekleyin.', 'Servisten hemen Ã¶nce sos malzemelerini karÄ±ÅŸtÄ±rÄ±p Ã¼zerine gezdirin.'] } ]
                }
            }
        };

        const mockPriceDatabase = { 'Kuru Fasulye': 110, 'Nohut': 95, 'YeÅŸil Mercimek': 80, 'KÄ±rmÄ±zÄ± Mercimek': 75, 'Barbunya': 120, 'PirinÃ§': 160, 'Bulgur (PilavlÄ±k)': 110, 'EriÅŸte': 45, 'Kuru SoÄŸan': 40, 'SarÄ±msak': 150, 'TurÅŸu': 85, 'ZeytinyaÄŸÄ±': 450, 'AyÃ§iÃ§ek YaÄŸÄ±': 210, 'Sirke': 35, 'Nar EkÅŸisi': 130, 'Temel Baharatlar': 100, 'Domates': 40, 'SalatalÄ±k': 35, 'Sivri Biber': 60, 'PatlÄ±can': 45, 'Semizotu': 25, 'Marul': 30, 'Maydanoz': 15, 'Taze Nane': 15, 'Limon': 50, 'Tavuk GÃ¶ÄŸsÃ¼ veya But': 250, 'KÄ±yma': 650, 'YoÄŸurt': 140, 'Tam BuÄŸday EkmeÄŸi': 25, 'Tavuk But': 220, 'Patates': 20, 'Ã‡eri Domates': 55, 'Taze SoÄŸan': 20, 'Taze Kekik/Biberiye': 30, 'Tavuk GÃ¶ÄŸsÃ¼/But (kuÅŸbaÅŸÄ±)': 260, 'KÄ±rmÄ±zÄ± SoÄŸan': 25, 'Maydanoz ve Dereotu': 30, 'Enginar veya Taze BÃ¶rÃ¼lce': 90, 'HavuÃ§': 25, 'KÄ±rmÄ±zÄ± Kapya Biber': 70, 'Ceviz Ä°Ã§i': 250 };
        
        document.addEventListener('DOMContentLoaded', function () {
            
            function generateListItemHTML(item) {
                return `<div class="list-item"><input type="checkbox" id="${item.id}" data-price="0" data-name="${item.name}" class="list-item-checkbox hidden"><label for="${item.id}" class="flex items-center justify-between p-4 bg-white rounded-lg shadow-sm cursor-pointer hover:shadow-md transition-all duration-200 border-l-4 border-transparent"><div class="flex flex-col"><span class="item-text font-medium text-zinc-800">${item.name}</span><span class="item-quantity text-sm text-zinc-500">${item.quantity}</span></div><div class="item-price font-semibold text-teal-600 text-lg"></div></label></div>`;
            }

            function renderShoppingLists() {
                const navContainer = document.getElementById('alisveris-sub-nav');
                const contentContainer = document.getElementById('alisveris-content');
                navContainer.innerHTML = '';
                contentContainer.innerHTML = '';
                const weekKeys = ['aylik', 'hafta1', 'hafta2', 'hafta3', 'hafta4'];
                weekKeys.forEach((key, index) => {
                     if(!appData[key] || !appData[key].alisveris) return;
                     const weekName = key === 'aylik' ? 'AylÄ±k Temeller' : `${index}. Hafta`;
                     navContainer.innerHTML += `<button data-tab="${key}-alisveris" class="sub-nav-button alisveris-nav-btn text-sm sm:text-base font-medium py-2 px-4 rounded-full shadow-sm bg-white hover:bg-zinc-100 transition-colors">${weekName}</button>`;
                    let listData = appData[key].alisveris;
                    let html = `<div id="${key}-alisveris" class="sub-tab-content alisveris-tab"><div class="space-y-6">`;
                    if (listData.categories) {
                        for (const category in listData.categories) {
                            html += `<div><h2 class="text-2xl font-semibold text-zinc-700 mb-4">${category}</h2><div class="grid grid-cols-1 md:grid-cols-2 gap-4">${listData.categories[category].map(generateListItemHTML).join('')}</div></div>`;
                        }
                    } else {
                        html += `<div><h2 class="text-2xl font-semibold text-zinc-700 mb-4">${listData.title}</h2><div class="grid grid-cols-1 md:grid-cols-2 gap-4">${listData.items.map(generateListItemHTML).join('')}</div></div>`;
                    }
                    html += `</div><div id="total-${key}-alisveris" class="mt-8 text-right font-bold text-2xl text-zinc-700 p-4 bg-zinc-200 rounded-lg hidden">SeÃ§ili ÃœrÃ¼nler ToplamÄ±: <span class="total-amount text-teal-600">0.00 TL</span></div></div>`;
                    contentContainer.innerHTML += html;
                });
                document.querySelector('.alisveris-nav-btn')?.classList.add('active');
                document.querySelector('.alisveris-tab')?.classList.add('active');
            }
            
            function renderMenu() {
                const navContainer = document.getElementById('menu-sub-nav');
                const contentContainer = document.getElementById('menu-content');
                navContainer.innerHTML = ''; contentContainer.innerHTML = '';
                const weekKeys = ['hafta1', 'hafta2', 'hafta3', 'hafta4'];
                weekKeys.forEach((key, index) => {
                    if(!appData[key] || !appData[key].menu) return;
                    navContainer.innerHTML += `<button data-tab="${key}-menu" class="sub-nav-button menu-nav-btn text-sm sm:text-base font-medium py-2 px-4 rounded-full shadow-sm bg-white hover:bg-zinc-100 transition-colors">${index + 1}. Hafta</button>`;
                    let html = `<div id="${key}-menu" class="sub-tab-content menu-tab"><div class="space-y-4">`;
                    appData[key].menu.forEach(day => {
                        html += `<div class="bg-white p-5 rounded-xl shadow-sm flex justify-between items-center transition-shadow hover:shadow-lg"><div><p class="font-bold text-lg text-zinc-800">${day.day}</p><p class="text-zinc-600">${day.meal}</p></div><div class="font-semibold text-teal-600 bg-teal-50 px-3 py-1 rounded-full text-sm whitespace-nowrap">ğŸ”¥ ${day.calories}</div></div>`;
                    });
                    html += `</div></div>`;
                    contentContainer.innerHTML += html;
                });
                document.querySelector('.menu-nav-btn')?.classList.add('active');
                document.querySelector('.menu-tab')?.classList.add('active');
            }

            function renderRecipes() {
                const navContainer = document.getElementById('tarifler-sub-nav');
                const contentContainer = document.getElementById('tarifler-content');
                navContainer.innerHTML = ''; contentContainer.innerHTML = '';
                const weekKeys = ['hafta1', 'hafta2', 'hafta3', 'hafta4'];
                weekKeys.forEach((key, index) => {
                    if(!appData[key] || !appData[key].tarifler) return;
                    navContainer.innerHTML += `<button data-tab="${key}-tarifler" class="sub-nav-button tarifler-nav-btn text-sm sm:text-base font-medium py-2 px-4 rounded-full shadow-sm bg-white hover:bg-zinc-100 transition-colors">${index + 1}. Hafta</button>`;
                    
                    const pazarTarifleri = appData[key].tarifler.pazar || [];
                    const haftaiciTarifleri = appData[key].tarifler.haftaici || [];

                    let html = `<div id="${key}-tarifler" class="sub-tab-content tarifler-tab">`;

                    if(pazarTarifleri.length > 0) {
                        html += `<div class="mb-12"><h2 class="text-3xl font-bold text-zinc-800 mb-6 border-l-4 border-teal-500 pl-4">Pazar GÃ¼nÃ¼ YapÄ±lacaklar</h2><div class="grid grid-cols-1 lg:grid-cols-2 gap-8">`;
                        pazarTarifleri.forEach(recipe => {
                            html += `<div class="bg-white p-6 rounded-xl shadow-lg transform hover:-translate-y-1 transition-all duration-300"><h3 class="text-3xl font-bold text-teal-700 mb-5">${recipe.title}</h3><div class="space-y-5"><h4 class="font-semibold text-xl text-zinc-800 border-b-2 border-zinc-200 pb-2">Malzemeler</h4><ul class="list-disc list-inside text-zinc-600 space-y-1 pl-2">${recipe.ingredients.map(i => `<li>${i}</li>`).join('')}</ul><h4 class="font-semibold text-xl text-zinc-800 border-b-2 border-zinc-200 pb-2">HazÄ±rlanÄ±ÅŸÄ±</h4><ol class="list-decimal list-inside text-zinc-600 space-y-2 pl-2">${recipe.steps.map(s => `<li>${s}</li>`).join('')}</ol></div></div>`;
                        });
                        html += `</div></div>`;
                    }
                    
                    if(haftaiciTarifleri.length > 0) {
                        html += `<div><h2 class="text-3xl font-bold text-zinc-800 mb-6 border-l-4 border-teal-500 pl-4">Hafta Ä°Ã§i HazÄ±rlanacaklar</h2><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">`;
                        haftaiciTarifleri.forEach(recipe => {
                            html += `<div class="bg-white p-6 rounded-xl shadow-lg transform hover:-translate-y-1 transition-all duration-300"><h3 class="text-3xl font-bold text-teal-700 mb-5">${recipe.title}</h3><div class="space-y-5"><h4 class="font-semibold text-xl text-zinc-800 border-b-2 border-zinc-200 pb-2">Malzemeler</h4><ul class="list-disc list-inside text-zinc-600 space-y-1 pl-2">${recipe.ingredients.map(i => `<li>${i}</li>`).join('')}</ul><h4 class="font-semibold text-xl text-zinc-800 border-b-2 border-zinc-200 pb-2">HazÄ±rlanÄ±ÅŸÄ±</h4><ol class="list-decimal list-inside text-zinc-600 space-y-2 pl-2">${recipe.steps.map(s => `<li>${s}</li>`).join('')}</ol></div></div>`;
                        });
                        html += `</div></div>`;
                    }

                    html += `</div>`;
                    contentContainer.innerHTML += html;
                });
                document.querySelector('.tarifler-nav-btn')?.classList.add('active');
                document.querySelector('.tarifler-tab')?.classList.add('active');
            }

            function setupSubNav(navSelector, contentSelector) {
                 document.querySelectorAll(navSelector).forEach(button => {
                    button.addEventListener('click', () => {
                        const tabId = button.getAttribute('data-tab');
                        document.querySelectorAll(navSelector).forEach(btn => btn.classList.remove('active'));
                        button.classList.add('active');
                        document.querySelectorAll(contentSelector).forEach(content => content.classList.toggle('active', content.id === tabId));
                    });
                });
            }

            function updateAllTotals() {
                document.querySelectorAll('.alisveris-tab').forEach(tab => {
                    let total = 0;
                    tab.querySelectorAll('.list-item-checkbox:checked').forEach(checkbox => total += parseFloat(checkbox.dataset.price));
                    const totalAmountEl = tab.querySelector('.total-amount');
                    if (totalAmountEl) totalAmountEl.textContent = `${total.toFixed(2)} TL`;
                });
            }

            renderShoppingLists(); renderMenu(); renderRecipes();
            
            document.getElementById('main-nav').addEventListener('click', e => {
                if(e.target.closest('button')){
                    const button = e.target.closest('button');
                    const tabId = button.dataset.tab;
                    document.querySelectorAll('.main-nav-button').forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');
                    document.querySelectorAll('.main-tab-content').forEach(content => content.classList.toggle('active', content.id === tabId));
                }
            });

            setupSubNav('.alisveris-nav-btn', '.alisveris-tab');
            setupSubNav('.menu-nav-btn', '.menu-tab');
            setupSubNav('.tarifler-nav-btn', '.tarifler-tab');
            
            document.getElementById('fetchPricesBtn').addEventListener('click', () => {
                const loader = document.getElementById('loader');
                loader.classList.remove('hidden');
                setTimeout(() => {
                    document.querySelectorAll('.list-item-checkbox').forEach(checkbox => {
                        const price = mockPriceDatabase[checkbox.dataset.name] || 0;
                        checkbox.dataset.price = price;
                        const priceElement = checkbox.nextElementSibling.querySelector('.item-price');
                        if (price > 0) priceElement.textContent = `${price.toFixed(2)} TL`;
                    });
                    document.querySelectorAll('[id^="total-"]').forEach(totalEl => totalEl.classList.remove('hidden'));
                    updateAllTotals();
                    loader.classList.add('hidden');
                }, 1500);
            });

            document.getElementById('resetBtn').addEventListener('click', () => {
                document.querySelectorAll('.list-item-checkbox').forEach(checkbox => checkbox.checked = false);
                updateAllTotals();
            });

            document.querySelector('#alisveris-content').addEventListener('change', e => {
                if (e.target.classList.contains('list-item-checkbox')) updateAllTotals();
            });
        });
    </script>
</body>
</html>
